<!DOC TYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <title>Chat Login</title>

    <link rel="stylesheet prefetch" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
    <link href="node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="node_modules/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">

    <link rel='stylesheet' href='/assets/chatroom.css'>
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,300' rel='stylesheet' type='text/css'>    

    <style>
        /* hide the input-file, invisible over image */
        #inputfile {
            -webkit-appearance: none;
            position: absolute;
            left: 0px; top: 0px;
            width: 100%; height: 100%;
            opacity: 0;
        }
        #inputfile-wrapper {
            position: relative;
        }
        IMG[src=''] {
            visibility: hidden;
        }
        #pic-preview {
            margin-top: -100px;
            width: 100px;
            height: 100px;
            overflow: hidden;
            display: none;
        }
        .attached-image {
            width: 100px !important;
            display: block;
            float:none !important;
            margin-left: 40px !important;
            margin-right: 40px !important;
            border-radius: 5px !important;
        }
    </style>
    </head>
    <body>
        <div id="frame">
            <div id="sidepanel">
                <!-- user profile -->
                <div id="profile">
                    <div class="wrap">
                        <img id="user-thumbnail" src="http://emilcarlsson.se/assets/mikeross.png" class="online" alt="" />
                        <p id="user-name">Name</p>
                        <i class="fa fa-chevron-down expand-button" aria-hidden="true"></i>
                        <div id="status-options">
                            <ul>
                                <li id="status-online" class="active"><span class="status-circle"></span> <p>Online</p></li>
                                <li id="status-away"><span class="status-circle"></span> <p>Away</p></li>
                                <li id="status-busy"><span class="status-circle"></span> <p>Busy</p></li>
                                <li id="status-offline"><span class="status-circle"></span> <p>Offline</p></li>
                            </ul>
                        </div>
                    </div>
                    <input id='user-tagline' type="text" placeholder="Your tagline..." style='background-color: transparent; border: 1px solid #449; color: white;' />
                </div>

                <div id="contacts">
                    <ul id='room-users'>
                        <!-- <li class="contact [active]">
                            <div class="wrap">
                                <span class="contact-status [online|busy|away]"></span>
                                <img src="http://emilcarlsson.se/assets/louislitt.png" alt="" />
                                <div class="meta">
                                    <p class="name">Louis Litt</p>
                                    <p class="preview">You just got LITT up, Mike.</p>
                                </div>
                            </div>
                        </li> -->
                    </ul>
                </div>
                <div id="bottom-bar">
                    <button id="settings"><i class="fa fa-cog fa-fw" aria-hidden="true"></i> <span>Settings</span></button>
                </div>
            </div>
            <div class="content">
                <h2 id='room-name' style='margin: 5px; font-weight: bold;'>Room</h2>

                <div class="messages">
                    <ul id='room-log'>
                        <!-- <li class="[sent|replies]">
                            <img src="http://emilcarlsson.se/assets/mikeross.png" alt="" />
                            <p>How the hell am I supposed to get a jury to believe you when I am not even sure that I do?!</p>
                        </li> -->
                    </ul>
                </div>
                <form id='messageData' class="message-input">
                    <img id='pic-preview' src='assets/picsprofile.png' class="img-fluid img-thumbnail">
                    <div class="wrap">
                        <input name='message' id='message-input' type="text" placeholder="Write your message..." /> 
                        <i id='inputfile-wrapper' class="fa fa-paperclip attachment" aria-hidden="true"><input name='pic' id='inputfile' type='file' onChange="messageFilePreview()" accept="image/*" capture="camera" /></i>
                        <button onClick="sendMessage(event)" class="submit"><i class="fa fa-paper-plane" aria-hidden="true"></i></button>
                    </div>
                </form>
            </div>
        </div>

    <script src="node_modules/jquery/dist/jquery.min.js"></script>
    <script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    
    <script src='assets/global.js'></script>
    <script src='assets/index.js'></script>
            
    <script src="/socket.io/socket.io.js"></script>
    <script>
        const PORT = 3000;
        const socket = io.connect(`http://localhost:${PORT}`);
        socket.on('news', function (data) {
        console.log(data);
        socket.emit('my other event', { my: 'data' });
        });
    </script>
</body>
</html>


  